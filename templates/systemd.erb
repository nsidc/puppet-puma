# App systemd configuration for <%= @app_name %> (generated by puppet-puma)
# App Version: <%= @app_version %>

[Unit]
Description=<%= @app_name %> - puma application

[Service]
Type=simple
WorkingDirectory=<%= @app_root %>
PIDFile=<%= @puma_pid_path %>
User=<%= @puma_user %>
Group=<%= @puma_user %>

# Ensure directory for pid file
ExecStartPre=/usr/bin/mkdir -p <@puma_pid_path %>

# The command to start puma
ExecStart=/usr/local/bin/bundle exec puma -C <%= @puma_config_path %>
Restart=always

[Install]
WantedBy=multi-user.target
